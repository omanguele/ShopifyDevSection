<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
>
<style>
#shopify-section-{{ section.id }} #avis230318 {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: Tahoma, sans-serif;
  background-color: {{ section.settings.bg-color }};
  width: 100%;
  height: 100%;
  overflow-x: hidden;
}
#shopify-section-{{ section.id }} #avis230318 p,
h1,
h2,
h3,
h3,
h4,
h6 {
  margin: 0;
}
#shopify-section-{{ section.id }} #avis230318 .container {
  width: 700px;
  padding: 50px;
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin: auto;
  position: relative;
  
}
#shopify-section-{{ section.id }} #avis230318 .header-wrapper {
  display: flex;
  gap: 15px;
  margin: 0 auto;
  align-items: center;
}
#shopify-section-{{ section.id }} #avis230318 .header-wrapper .icon-wrapper {
  display: flex;
  gap: 10px;
}
#shopify-section-{{ section.id }} #avis230318 .header-wrapper .icon-wrapper .star {
  font-size: 16px;
  color: {{ section.settings.star-color }};
}
#shopify-section-{{ section.id }} #avis230318 .header-wrapper .rating {
  display: flex;
  padding: 5px 10px 5px 10px;
  border-radius: 3px;
  color: #fff;
  font-size: 13px;
  font-weight: bold;
  background-color: #002d01;
}
#shopify-section-{{ section.id }} #avis230318 .header-wrapper .rating p{font-size: 12px;}
#shopify-section-{{ section.id }} #avis230318 .rating-wrapper {
  display: flex;
  align-items: center;
  flex-direction: column;
  gap: 10px;
  position: relative;
}
#shopify-section-{{ section.id }} #avis230318 .rating-wrapper .row {
  display: flex;
  gap: 15px;
  align-items: center;
}
#shopify-section-{{ section.id }} #avis230318 .rating-wrapper .row .icon-wrapper {
  display: flex;
  gap: 10px;
  margin-top: 2px;
}
#shopify-section-{{ section.id }} #avis230318 .rating-wrapper .row .icon-wrapper .star {
  font-size: 16px;
  color: {{ section.settings.star-color }};
}
#shopify-section-{{ section.id }} #avis230318 .rating-wrapper .row .icon-wrapper .star-dist {
  font-size: 16px;
  color: {{ section.settings.star-color }};
  opacity: 0.5;
}
#shopify-section-{{ section.id }} #avis230318 .rating-wrapper .row .progress-bar {
  width: 350px;
  border: 1.5px solid rgba(183, 183, 183, 0.6);
  height: 17px;
  position: relative;
}
#shopify-section-{{ section.id }} #avis230318 .rating-wrapper .row p {
  font-size: 14px;
  opacity: 1;
}
@media (max-width: 768px) {
  #shopify-section-{{ section.id }} #avis230318 .rating-wrapper .row .progress-bar {
    width: 150px;
    border: 1.5px solid rgba(183, 183, 183, 0.6);
    height: 17px;
    position: relative;
  }
  #shopify-section-{{ section.id }} #avis230318 .container {
    width: 100%;
    padding: 10px 15px 50px 15px;
    display: flex;
    margin: auto;
    position: relative;
    align-items: center;
  }
  #shopify-section-{{ section.id }} #avis230318 .header-wrapper {
  display: flex;
  gap: 20px;
  margin: 0 auto;
}
#shopify-section-{{ section.id }} #avis230318 .header-wrapper .icon-wrapper {
  display: flex;
  gap: 5px;
}
#shopify-section-{{ section.id }} #avis230318 .header-wrapper .icon-wrapper .star {
  font-size: 20px;
  color: {{ section.settings.star-color }};
}
#shopify-section-{{ section.id }} #avis230318 .header-wrapper .rating {
  display: flex;
  padding: 5px 10px 5px 10px;
  border-radius: 3px;
  color: #fff;
  font-size: 8px;
  font-weight: bold;
}
  #shopify-section-{{ section.id }} #avis230318 .rating-wrapper .row .icon-wrapper {
  display: flex;
  gap: 5px;
  //margin-top: 2px;
}
#shopify-section-{{ section.id }} #avis230318 .rating-wrapper{
  display: flex;
  gap: 10px;
  align-items: center;
}
#shopify-section-{{ section.id }} #avis230318 .rating-wrapper .row .icon-wrapper .star {
  font-size: 15px;
  color: {{ section.settings.star-color }};
}
#shopify-section-{{ section.id }} #avis230318 .rating-wrapper .row .icon-wrapper .star-dist {
  font-size: 15px;
  color: {{ section.settings.star-color }};
  opacity: 0.5;
}
}
  
</style>
    <section id="avis230318">
      <div class="container">
        <div class="header-wrapper">
          <div class="icon-wrapper">
            {% assign diffe = 5 | minus: section.settings.nbre %}
            {% assign range = (1..section.settings.nbre) %}
            {% for i in range %}
              <i class="fa fa-star star"></i>
            {% endfor %}
            {% if section.settings.demi == true %}<i class="fa fa-star-half-full star"></i> {% endif %}
          </div>
          <div class="rating">
            <p>{{ section.settings.title }}</p>
          </div>
        </div>
        <div class="rating-wrapper">
          {% for block in section.blocks %}
            {% case block.type %}
              {% when 'first-row' %}
                <div class="row">
                  <div class="icon-wrapper">
                    {% assign diff = 5 | minus: block.settings.nbre %}
                    {% assign range = (1..block.settings.nbre) %}
                    {% for i in range %}
                      <i class="fa fa-star star"></i>
                    {% endfor %}
                    {% for i in (1..diff) %}
                    <i class="fa fa-star star-dist"></i>
                    {% endfor %}
                  </div>
                  <div class="progress-bar">
                    <div style="width: {{ block.settings.per }}%;background-color: {{ section.settings.progress-color }};height: 17px;">  </div>
                  </div>
                  <p>{{ block.settings.per }}%</p>
                </div>
              {% endcase %}
          {% endfor %}
        </div>
      </div>
    </section>
{% schema %}
{
  "name": "Section Avis",
  "blocks": [
    {
      "type": "first-row",
      "name": "Ligne de Note",
      "limit": 5,
      "settings": [
        {
          "type": "number",
          "id": "per",
          "label": "Pourcentage",
          "default": 57
        },
        {
          "type": "number",
          "id": "nbre",
          "label": "Nombre Etoile",
          "default": 4
        }
      ]
    }
  ],
  "settings": [
    {
      "type": "color",
      "id": "bg-color",
      "label": "Couleur de fond",
      "default": "#fff"
    },
    {
      "type": "color",
      "id": "star-color",
      "label": "Couleur des etoiles",
      "default": "#002d01"
    },
    {
      "type": "color",
      "id": "progress-color",
      "label": "Couleur de la progression",
      "default": "#002d01"
    },
    {
      "type": "color",
      "id": "text-color",
      "label": "Couleur du texte",
      "default": "#000"
    },
    {
      "type": "number",
      "id": "nbre",
      "label": "Nombre Etoile",
      "default": 4
    },
    {
      "type":"text",
      "id":"title",
      "label":"Titre",
      "default":" 4.3/5 (22 avis) "
    },
    {
      "type": "checkbox",
      "id": "demi",
      "label": "Activer l'etoile de demi",
      "default": true
    }
  ],
  "presets": [
    {
      "name": "Note Avis",
      "category": "Custom Ss"
    }
  ]
}
{% endschema %}

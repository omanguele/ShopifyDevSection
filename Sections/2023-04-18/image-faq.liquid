<style>
    #shopify-section-{{ section.id }} #faqsection060223 {
      width: 100%;
      height: auto;
      position: relative;
      background-color: {{ section.settings.bg_color }};
      padding: 60px 0px;
  }
  #shopify-section-{{ section.id }} #faqsection060223  .container {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 100%;
      max-width: 1400px;
      margin: 0 auto;
      position: relative;
      text-align: left;
      overflow: hidden;
  }
  #shopify-section-{{ section.id }} #faqsection060223  .container .faq__wrapper {
      width: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: flex-start;
      gap: 10px;
  }
  #shopify-section-{{ section.id }} #faqsection060223  .faq_item .faq__item__icons {
      width: 40px;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
  }
  #shopify-section-{{ section.id }} #faqsection060223  .container .left,
    #shopify-section-{{ section.id }} #faqsection060223  .container .right{
      width:100%;
    }

  #shopify-section-{{ section.id }} #faqsection060223  .faq_item .faq__item__icons svg {
      width: 20px;
      height: 20px;
      color: {{ section.settings.title_color }} !important;
  }
  #shopify-section-{{ section.id }} #faqsection060223  .faq_item .faq__item__icons .open {
      display: none;
  }
  #shopify-section-{{ section.id }} #faqsection060223  .faq_item.show > .faq__item_head .open {
      display: block;
  }
  #shopify-section-{{ section.id }} #faqsection060223  .faq_item.show > .faq__item_head .close {
      display: none;
  }
  #shopify-section-{{ section.id }} #faqsection060223  .faq_item {
      border: none;
      border-radius: 10px;
      box-shadow: none;
      width: 100%;
      background-color: {{ section.settings.item_color }};
  }
  #shopify-section-{{ section.id }} #faqsection060223  .faq_item .faq__item_head {
      color: #333;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      cursor: pointer;
      padding: 0 10px;
  }
  #shopify-section-{{ section.id }} #faqsection060223  .faq_item .faq__item_head .faq__item__question {
      text-align: left;
      margin-top: 0;
      margin-bottom: 0;
      height: 100%;
      width: 100%;
      color: inherit;
      font-size: 14px;
      font-weight: 600 !important;
      color: {{ section.settings.title_color }} !important;
      display: block;
      padding: 15px 0;
      margin: 0;
    font-weight: 600;
  }
    #shopify-section-{{ section.id }} #faqsection060223 img {
      max-width: 100%;
      object-fit: cover;
    }
  #shopify-section-{{ section.id }} #faqsection060223  .faq_item  .faq__item__body {
      display: block;
      font-size: 1.3rem !important;
      color: {{ section.settings.message_color }} !important;
      overflow: hidden;
      height: 0;
      transition: height 0.8s ease-in-out;
  }
  #shopify-section-{{ section.id }} #faqsection060223  .faq_item  .faq__item__body .faq__item__answer {
      padding: 0px 10px;
      border-top: none;
      font-size: 12px;
      color: {{ section.settings.message_color }};
      line-height: 28px;
      letter-spacing: 1px;
      font-weight: 400 !important;
      line-height: 28px;
      letter-spacing: 1px;
      padding-bottom: 10px;
  }
  #shopify-section-{{ section.id }} #faqsection060223 .title {
      font-size: 30px;
      color: {{ section.settings.title_color }} !important;
      font-weight: 700;
    }

    #shopify-section-{{ section.id }} #faqsection060223  .container .right{
      padding: 0px;
      margin-top: 20px;
    }

   #shopify-section-{{ section.id }} #faqsection060223  .container .left {
    display: flex;
  justify-content: center;
  align-items: center;
  }
  @media only screen and (min-width: 780px) {
    #shopify-section-{{ section.id }} #faqsection060223  .container .left,
    #shopify-section-{{ section.id }} #faqsection060223  .container .right{
      width:50%;
    }
    #shopify-section-{{ section.id }} #faqsection060223  .container .right{
      padding: 0 30px;
      margin-top: 0;
    }
    #shopify-section-{{ section.id }} #faqsection060223  .container {
      flex-direction: row;
      align-items: stretch;
    }
    #shopify-section-{{ section.id }} #faqsection060223  .faq_item .faq__item_head .faq__item__question {
      font-size: 20px;
      text-align: left;
      margin-top: 0;
      margin-bottom: 0;
    }
     #shopify-section-{{ section.id }} #faqsection060223  .faq_item  .faq__item__body .faq__item__answer {
        font-size: 16px;
     }
    #shopify-section-{{ section.id }} #faqsection060223 .title {
      font-size: 50px;
      margin-bottom: 20px;
    }
    #shopify-section-{{ section.id }} #faqsection060223  .faq_item .faq__item__icons svg {
      width: 30px;
      height: 30px;
  }
  }
</style>

<section id="faqsection060223">
  <div class="container">
    <div class="left">
      <img
        src="{{ section.settings.image | img_url: "master" }}"
        alt=""
      >
    </div>
    <div class="right">
      <h3 class="title">{{ section.settings.title }}</h3>
      <div class="faq__wrapper">
        {% for block in section.blocks %}
          <div class="faq_item">
            <div class="faq__item_head">
              <div class="faq__item__question">
                {{ block.settings.title }}
              </div>
              <div class="faq__item__icons">
                <span class="close">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                  >
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                </span>
                <span class="open">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                  >
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                </span>
              </div>
            </div>
            <div class="faq__item__body">
              <div class="faq__item__answer">
                {{ block.settings.message }}
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</section>

<script>
  const faqs = document.querySelectorAll('#shopify-section-{{ section.id }} .faq__wrapper .faq_item');
  faqs.forEach((faq) => {
      faq.addEventListener('click', function(e) {
          e.preventDefault();
          let elt = faq.querySelector('.faq__item__body');
          if(faq.classList.contains('show')){
              elt.style.height = '0px';
              faq.classList.remove('show')
          }else {
              elt.style.height = elt.scrollHeight + 'px';
              faq.classList.add('show')
          }
      });
  });
</script>

{% schema %}
{
  "name": "Image Faq Section",
  "blocks": [
      {
        "type": "item",
        "name": "Element",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Titre",
            "default":"lorem ipsum..."
          },
          {
            "type":"textarea",
            "id":"message",
            "label":"Message",
            "default":"lorem ipsum..."
          }
        ]
      }
    ],
  "settings": [
    {
        "type":"color",
        "id":"bg_color",
        "label":"Couleur de fond",
        "default":"#f5f5f5"
    },
    {
        "type":"color",
        "id":"item_color",
        "label":"Couleur de faq",
        "default":"#fff"
    },
    {
        "type":"color",
        "id":"title_color",
        "label":"Couleur du titre",
        "default":"#000"
    },
    {
        "type":"color",
        "id":"message_color",
        "label":"Couleur du message",
        "default":"#6f6f6f"
    },
    {
        "type":"text",
        "id":"title",
        "label":"Titre",
        "default":"FAQ"
    },
    {
        "type":"image_picker",
        "id":"image",
        "label":"Image"
    }
  ],
  "presets": [
    {
        "name": "Image Faq Section"
    }
  ]
}
{% endschema %}

<style>
       body {
         overflow: initial !important;
       }
      #shopify-section-{{ section.id }}  #bomssrcollsnap71110290 {
         width: 100%;
         position: relative;
         background-color: {{ section.settings.bg_color }};
         padding: 50px 0px;
       }
      #shopify-section-{{ section.id }}  #bomssrcollsnap71110290 img {
         border-radius: 16px;
         object-position: 50.0% 50.0%;
         isolation: isolate;
         opacity: 1;
         transition: opacity .2s cubic-bezier(.104,.204,.492,1),filter .2s cubic-bezier(.104,.204,.492,1);
         display: inline-block;
         vertical-align: middle;
         max-width: 100%;
         height: auto;
         width: 100%;
       }
    #shopify-section-{{ section.id }}  #bomssrcollsnap71110290  .bomssrcollsnap71110290_container {
         max-width: 1380px;
         margin-left: auto;
         margin-right: auto;
         padding: 0 15px;
         width: 100%;
       }
    #shopify-section-{{ section.id }}  #bomssrcollsnap71110290  .bomssrcollsnap71110290_content_text_image {
         display: block;
         margin-bottom: 30px;
       }
    #shopify-section-{{ section.id }}  #bomssrcollsnap71110290  .bomssrcollsnap71110290_content_text_text {
         width: 100%;
       }
   #shopify-section-{{ section.id }}  #bomssrcollsnap71110290 .bomssrcollsnap71110290_content_text_text h3 {
         font-size: 34px;
         line-height: 42px;
         font-weight: 700;
         margin-bottom: 20px;
      color: {{ section.settings.text_color }};
     }
  #shopify-section-{{ section.id }}  #bomssrcollsnap71110290  .bomssrcollsnap71110290_content_text_text p {
         line-height: 27.2px;
         font-size: 20px;
         font-weight: 500;
         word-spacing: .001em;
         text-rendering: optimizeLegibility;
         margin-bottom: 20px;
         font-feature-settings: "kern" 1;
         font-kerning: normal;
     color: {{ section.settings.text_color }};
     }
   #shopify-section-{{ section.id }}  #bomssrcollsnap71110290 .bomssrcollsnap71110290_content_image {
         display: none;
     }

       @media only screen and (min-width: 1024px) {
      #shopify-section-{{ section.id }}  #bomssrcollsnap71110290  .bomssrcollsnap71110290_container {
             padding: 0 50px;
         }
      #shopify-section-{{ section.id }}  #bomssrcollsnap71110290  .bomssrcollsnap71110290_content_text_image {
             display: none;
         }
      #shopify-section-{{ section.id }}  #bomssrcollsnap71110290  .bomssrcollsnap71110290_content {
           display: grid;
           position: relative;
           grid-template-columns: 1fr 1fr;
           grid-gap: 50px;
         }
      #shopify-section-{{ section.id }}  #bomssrcollsnap71110290  .bomssrcollsnap71110290_content_image {
             position: sticky;
             top: 20px;
             display: block;
             left: 0;
             visibility: hidden;
         }
      #shopify-section-{{ section.id }}  #bomssrcollsnap71110290  .bomssrcollsnap71110290_content_image.active {
             visibility: visible;
         }
      #shopify-section-{{ section.id }}  #bomssrcollsnap71110290  .bomssrcollsnap71110290_content_text {
             padding-right: 30px;
             display: flex;
             flex-direction: column;
             justify-content: center;
         }
       }

       @media only screen and (max-width: 768px) {
       #shopify-section-{{ section.id }}  #bomssrcollsnap71110290 .bomssrcollsnap71110290_content_text {
             scroll-snap-align: center;
             scroll-snap-stop: always;
             display: flex;
             flex-direction: column;
             justify-content: center;
         }
     #shopify-section-{{ section.id }}  #bomssrcollsnap71110290   .bomssrcollsnap71110290_content {
             grid-auto-flow: column;
             grid-auto-columns: minmax(calc(90vw - 15px),1fr);
             overflow-x: auto;
             overflow-y: hidden;
             grid-template-columns: repeat(auto-fill,minmax(calc(90vw - 15px),1fr));
             grid-gap: 12px;
             margin-left: -15px;
             width: calc(100% + 30px);
             padding: 0 15px;
             scrollbar-width: none;
             scroll-snap-type: x mandatory;
             align-items: start;
             display: grid;
             position: relative;
         }
        #shopify-section-{{ section.id }}  #bomssrcollsnap71110290 .bomssrcollsnap71110290_content_text_text h3 {
         font-size: 20px;
     }
  #shopify-section-{{ section.id }}  #bomssrcollsnap71110290  .bomssrcollsnap71110290_content_text_text p {
         font-size: 16px;
     }
       }
</style>

<section id="bomssrcollsnap71110290">
  <div class="bomssrcollsnap71110290_container">
    <div class="bomssrcollsnap71110290_content">
      {% for block in section.blocks %}
        <div class="bomssrcollsnap71110290_content_text">
          <div class="bomssrcollsnap71110290_content_text_image">
            <img src="{{ block.settings.image | img_url: "master" }}" alt="">
          </div>
          <div class="bomssrcollsnap71110290_content_text_text">
            <h3>{{ block.settings.heading }}</h3>
            <p>
              {{ block.settings.message }}
            </p>
          </div>
        </div>
        <div class="bomssrcollsnap71110290_content_image {% if forloop.index == 1 %}active{% endif %}">
          <img src="{{ block.settings.image | img_url: "master" }}" alt="">
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<script>
  const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("active");
        } else {
          entry.target.classList.remove("active");
        }
      });
    });
    window.addEventListener("scroll", () => {
      document.querySelectorAll('#bomssrcollsnap71110290 .bomssrcollsnap71110290_content_image').forEach((content_text) => {
        observer.observe(content_text);
      });
    });
</script>

{% schema %}
  {
    "name": "Text Image Sticky",
    "blocks": [
    {
    "type": "item",
    "name": "item",
    "settings": [
      {
        "type": "image_picker",
        "id": "image",
        "label": "image"
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Titre"
      },
      {
        "type": "textarea",
        "id": "message",
        "label": "Message"
      }
    ]
  }
],
    "settings": [
      {
        "type": "color",
        "id": "bg_color",
        "label": "Couleur de fond de la section",
        "default": "#f2f2f2"
      },
      {
        "type": "color",
        "id": "text_color",
        "label": "Couleur de Texte",
        "default": "#000"
      }
    ],
    "presets": [
      {
        "name": "Text Image Sticky"
      }
    ]
  }
{% endschema %}
